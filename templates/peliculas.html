<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Buscador de Pel√≠culas</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #0b0e11; color: white; padding: 20px; }
        header { text-align: center; padding: 40px 0; background: linear-gradient(to bottom, #1a1f24, #0b0e11); }
        .search-container { max-width: 600px; margin: 20px auto; display: flex; gap: 10px; }
        input { flex: 1; padding: 12px; border-radius: 25px; border: none; background: #252d35; color: white; outline: none; }
        button { padding: 12px 25px; border-radius: 25px; border: none; background: #e50914; color: white; font-weight: bold; cursor: pointer; }
        .movie-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 25px; max-width: 1200px; margin: 40px auto; }
        .movie-card { background: #1a1f24; border-radius: 10px; overflow: hidden; transition: 0.3s; }
        .movie-card:hover { transform: scale(1.05); box-shadow: 0 10px 20px rgba(0,0,0,0.5); }
        .movie-card img { width: 100%; height: 300px; object-fit: cover; }
        .movie-info { padding: 15px; }
        .rating { color: #f5c518; font-weight: bold; font-size: 14px; }
    </style>
</head>
<body>
    <header>
        <h1>üé¨ MovieFinder</h1>
        <p>Explora el mundo del cine con TMDB API</p>
        <div class="search-container">
            <input type="text" id="query" placeholder="Escribe el nombre de una pel√≠cula...">
            <button onclick="buscar()">Buscar</button>
        </div>
    </header>
    <div id="resultados" class="movie-grid"></div>

    <script>
        async function buscar() {
            const q = document.getElementById('query').value;
            const res = document.getElementById('resultados');
            if(!q) return;

            res.innerHTML = "Buscando...";
            const response = await fetch(`/api/peliculas/buscar?q=${encodeURIComponent(q)}`);
            const data = await response.json();

            res.innerHTML = data.map(p => `
                <div class="movie-card">
                    <img src="${p.poster || 'https://via.placeholder.com/500x750?text=No+Poster'}" alt="${p.titulo}">
                    <div class="movie-info">
                        <div style="font-weight:bold; margin-bottom:5px;">${p.titulo}</div>
                        <div class="rating">‚≠ê ${p.voto}</div>
                        <div style="font-size:12px; color:#aaa; margin-top:5px;">${p.fecha}</div>
                    </div>
                </div>
            `).join('');
        }
    </script>
</body>
</html>